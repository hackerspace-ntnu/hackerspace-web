<script>
  function edit() {
    document.getElementById("edit").style.display="inline";
    document.getElementById("content").style.display="none";
    document.getElementById("cancelBtn").style.display="inline";
    document.getElementById("editBtn").style.display="none";
  }
  function cancel() {
    location.reload();
  }
  function adminPage() {
    var url = window.location.href;
    var id = url.substr(url.length-3, url.length-2);
    window.location.replace("/admin/articles/article"+id+"change/");
  }
  function del() {
      var url = window.location.href;
      var id = url.substr(url.length-3, url.length-2);
      window.location.replace("/admin/articles/article"+id+"delete/");
  }
</script>


{% include 'base.html' %}

<div style="height: 150px;"></div>

<div id="admin" style="
    width: 600px;
    margin-left:auto;
    margin-right:auto;
    height: 42px;
    background-color: #E8DEC2;
    border: 1px solid #E5D8B3;
    ">
  <div style="margin-left:10px;">Admin tools:
    <button id="editBtn" type="button" style="margin:5px; height:30px;" onclick="edit()">Edit</button>
    <button id="cancelBtn" type="button" style="display:none; margin:5px; height:30px;" onclick="cancel()">Cancel</button>
    <button id="adminSiteBtn" type="button" style="margin:5px; height:30px;" onclick="adminPage()">Admin site</button>
    <button id="deleteBtn" type="button" style="margin:5px; height:30px;" onclick="del()">Delete</button>
  </div>
</div>

<div id="content" style="
      width:600px;
      min-height: 300px;
      margin: 50px auto;
      margin-bottom: 100px;
  ">
    {% autoescape off %}
        {{ article.main_content }}
    {% endautoescape %}
</div>

<div style="height: 100px;"></div>
<div style="
      width:600px;
      margin-left:auto;
      margin-right:auto;
      padding-top:50px;
      margin-top:0px;
      min-height:400px;
  ">
    {% if image_list %}
    {% for image in image_list.all %}
    <img style="margin:10px;
                float:{{ image.image_float}};
                margin-top:30px;"
         src="{{ image.image_src }}"
            {% if image.image_customDimensions %}
            height="{{ image.image_height }}"
            width="{{ image.image_width }}"
            {% endif %}
            >
    {% endfor %}
    {% endif %}
    <h1 style="
          font-size:{{ article.header_fontsize }}px;
          color:{{ article.header_color }};
          font-family:{{ article.header_fontfamily }};
      ">
        {{ article.header_text }}
    </h1>

<div id="edit" style="display: none;">
  <div style="
        width:800px;
        min-height:400px;
        margin: 50px auto;
        margin-bottom: 100px;
    ">
    {% include "edit_article.html" %}
  </div>
</div>

{% include 'footer.html' %}