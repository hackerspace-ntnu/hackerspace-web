<script>
  function edit() {
    document.getElementById("edit").style.display="inline";
    document.getElementById("content").style.display="none";
    document.getElementById("cancelBtn").style.display="inline";
    document.getElementById("editBtn").style.display="none";
  }
  function cancel() {
    location.reload();
  }
  function adminPage() {
    var url = window.location.href;
    var id = url.substr(url.length-3, url.length-2);
    window.location.replace("/admin/events/event"+id+"change/");
  }
  function del() {
      var url = window.location.href;
      var id = url.substr(url.length-3, url.length-2);
      window.location.replace("/admin/events/event"+id+"delete/");
  }
</script>

{% include 'base.html' %}

<div style="height: 150px;"></div>

<div id="admin" style="
    width: 600px;
    margin-left:auto;
    margin-right:auto;
    height: 42px;
    background-color: #E8DEC2;
    border: 1px solid #E5D8B3;
    ">
  <div style="margin-left:10px;">Admin tools:
    <button id="editBtn" type="button" style="margin:5px; height:30px;" onclick="edit()">Edit</button>
    <button id="cancelBtn" type="button" style="display:none; margin:5px; height:30px;" onclick="cancel()">Cancel</button>
    <button id="adminSiteBtn" type="button" style="margin:5px; height:30px;" onclick="adminPage()">Admin site</button>
    <button id="deleteBtn" type="button" style="margin:5px; height:30px;" onclick="del()">Delete</button>
  </div>
</div>

<div id="content" style="
      width:600px;
      min-height: 300px;
      margin: 50px auto;
      margin-bottom: 100px;
  ">
    {% autoescape off %}
        {{ event.main_content }}
    {% endautoescape %}
    <br>
    Place: <a href="{{ event.place_href }}">{{ event.place }}</a><br>
    Time: {{ event.date }}
</div>

<div id="edit" style="display: none;">
  <div style="
        width:800px;
        min-height:400px;
        margin: 50px auto;
        margin-bottom: 100px;
    ">
    {% include "edit_event.html" %}
  </div>
</div>

{% include 'footer.html' %}
